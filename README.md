# ๐ ูุดุฑูุน ุงูุชุฎุฑุฌ: ูุธุงู ููู ุงูุฃุตูู ุจุงุณุชุฎุฏุงู Hyperledger Fabric

ููุฏู ูุฐุง ุงููุดุฑูุน ูููุฐุฌุงู ูุงููุงู ูุดุจูุฉ ุจูููุชุดูู ุฎุงุตุฉ (Permissioned Blockchain) ุจุงุณุชุฎุฏุงู ุฅุทุงุฑ ุนูู **Hyperledger Fabric v2.5.9**. ููุฏู ุงููุดุฑูุน ุฅูู ุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงูุฃุตูู ุงูุฑูููุฉ (ุฅูุดุงุกุ ูููุ ุงุณุชุนูุงู) ูู ุฎูุงู ุนูุฏ ุฐูู (Smart Contract) ููุชูุจ ุจูุบุฉ **Go (Golang)**.

---

## ๐บ๏ธ ุฎุฑูุทุฉ ุงููุดุฑูุน ูููููุฉ ุงููููุงุช

ูููู ุจููุฉ ุงููุดุฑูุนุ ุฅููู ุฎุฑูุทุฉ ุชูุถุญ ุฃูู ุงููุฌูุฏุงุช ูุงููููุงุช ูุฏูุฑ ูู ูููุง:

```
fabric-graduation-project/
โโโ ๐ test-network/              # [ูุฌูุฏ ุฑุฆูุณู] ูุญุชูู ุนูู ูู ูุง ููุฒู ูุชุดุบูู ุดุจูุฉ Fabric
โ   โโโ network.sh               #   โข [ููู ุชูููุฐู] ุงูุณูุฑุจุช ุงูุฃุณุงุณู ูุจุฏุกุ ุฅููุงูุ ููุดุฑ ุงูุดุจูุฉ
โ   โโโ organizations/           #   โข [ูุฌูุฏ] ูุญุชูู ุนูู ุดูุงุฏุงุช ุงูุชุดููุฑ ููููุงุช ุงูููุธูุงุช (Org1, Org2)
โ   โโโ compose/                 #   โข [ูุฌูุฏ] ูููุงุช Docker Compose ูุชุนุฑูู ุงูุญุงููุงุช (Peers, Orderers)
โ
โโโ ๐ asset-transfer-basic/       # [ูุฌูุฏ ุฑุฆูุณู] ูุญุชูู ุนูู ููุฏ ุงูุนูุฏ ุงูุฐูู ุจูุบุงุช ูุฎุชููุฉ
โ   โโโ ๐ chaincode-go/           #   โข [ูุฌูุฏ] ููุฏ ุงูุนูุฏ ุงูุฐูู ุงูุฎุงุต ุจุงููุดุฑูุน ุจูุบุฉ Go
โ       โโโ ๐ chaincode/
โ           โโโ smartcontract.go #       โข [ููู ุงูููุฏ] ููุทู ุงูุนูุฏ ุงูุฐููุ ุชุนุฑูู ุงูุฃุตููุ ูุงููุธุงุฆู
โ
โโโ ๐ bin/                        # [ูุฌูุฏ] ูุญุชูู ุนูู ุงูุฃุฏูุงุช ุงูุชูููุฐูุฉ ูู Fabric (peer, orderer, configtxgen)
โ
โโโ ๐ config/                     # [ูุฌูุฏ] ูุญุชูู ุนูู ูููุงุช ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ ููุดุจูุฉ (configtx.yaml)
```

---

## ๐ง ุดุฑุญ ุงูุนูุฏ ุงูุฐูู (Smart Contract)

ููุน ุงูุนูุฏ ุงูุฐูู ูู ููู `asset-transfer-basic/chaincode-go/chaincode/smartcontract.go` ููู ุงููุณุคูู ุนู ููุทู ุงูุฃุนูุงู (Business Logic) ูู ุงูุดุจูุฉ.

### 1. ูููู ุจูุงูุงุช ุงูุฃุตู (Asset Structure)

ูุชู ุชุนุฑูู ูู ุฃุตู ูู ุงูุดุจูุฉ ุจุงุณุชุฎุฏุงู ุงููููู ุงูุชุงูู:

| ุงูุญูู (Field)   | ุงูููุน (Type) | ุงููุตู                                      |
| :-------------- | :------------ | :----------------------------------------- |
| `ID`            | `string`      | ุงููุนุฑูู ุงููุฑูุฏ ููู ุฃุตู (ูุซู: "asset1")      |
| `Color`         | `string`      | ููู ุงูุฃุตู (ูุซู: "blue")                   |
| `Size`          | `int`         | ุญุฌู ุงูุฃุตู (ูุซู: 5)                         |
| `Owner`         | `string`      | ูุงูู ุงูุฃุตู ุงูุญุงูู (ูุซู: "Tomoko")          |
| `AppraisedValue`| `int`         | ุงููููุฉ ุงูุชูุฏูุฑูุฉ ููุฃุตู (ูุซู: 300)           |

### 2. ุงููุธุงุฆู ุงููุชุงุญุฉ (Available Functions)

ูููุฑ ุงูุนูุฏ ุงูุฐูู ูุฌููุนุฉ ูู ุงููุธุงุฆู ููุชูุงุนู ูุน ุณุฌู ุงูุจูููุชุดูู (Ledger):

| ุงููุธููุฉ (Function)   | ุงููุตู                                                               |
| :-------------------- | :------------------------------------------------------------------- |
| `InitLedger`          | ุชููู ุจุฅูุดุงุก ูุฌููุนุฉ ูู ุงูุฃุตูู ุงูุงูุชุฑุงุถูุฉ ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุดุจูุฉ ูุฃูู ูุฑุฉ. |
| `CreateAsset`         | ุฅูุดุงุก ุฃุตู ุฌุฏูุฏ ุจูุนูููุงุช ูุญุฏุฏุฉ ูุฅุถุงูุชู ุฅูู ุงูุณุฌู.                    |
| `ReadAsset`           | ุงุณุชุฑุฌุงุน ุจูุงูุงุช ุฃุตู ูุนูู ุจุงุณุชุฎุฏุงู `ID` ุงูุฎุงุต ุจู.                      |
| `UpdateAsset`         | ุชุญุฏูุซ ุจูุงูุงุช ุฃุตู ููุฌูุฏ ูู ุงูุณุฌู.                                    |
| `DeleteAsset`         | ุญุฐู ุฃุตู ูู ุงูุณุฌู.                                                   |
| `AssetExists`         | ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุฃุตู ูุนูู ููุฌูุฏุงู ูู ุงูุณุฌู ุฃู ูุง.                  |
| `TransferAsset`       | ููู ููููุฉ ุฃุตู ูู ูุงูู ุฅูู ุขุฎุฑ.                                       |
| `GetAllAssets`        | ุงุณุชุฑุฌุงุน ูุงุฆูุฉ ุจุฌููุน ุงูุฃุตูู ุงูููุฌูุฏุฉ ูู ุงูุณุฌู.                        |

---

## ๐ ุงูุฎูุงุฑ 1: ุงูุชุดุบูู ุงูุณุฑูุน ุนุจุฑ GitHub Codespaces (ููุตู ุจู)

ููููู ุชุดุบูู ุงูุดุจูุฉ ุจุงููุงูู ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ ุฏูู ุงูุญุงุฌุฉ ูุชุซุจูุช ุฃู ุจุฑุงูุฌ ุนูู ุฌูุงุฒู ุงูุดุฎุตู.

1.  ุงุถุบุท ุนูู ุงูุฒุฑ ุงูุฃุฎุถุฑ **Code** ูู ุฃุนูู ุงูุตูุญุฉ.
2.  ุงุฎุชุฑ ุงูุชุจููุจ **Codespaces**.
3.  ุงุถุบุท ุนูู **Create codespace on main**.

### โก ุฎุทูุงุช ุงูุฅุนุฏุงุฏ (ุฏุงุฎู ุดุงุดุฉ Codespaces):

ุจูุฌุฑุฏ ุฃู ุชูุชุญ ุดุงุดุฉ ุงูุชูุฑูููุงู (Terminal)ุ ูู ุจูุณุฎ ูุชุดุบูู ุงูุฃูุงูุฑ ุงูุชุงููุฉ ุจุงูุชุฑุชูุจ:

**1. ุชุซุจูุช ุฃุฏูุงุช Fabric ูุงููููุงุช ุงูุชูููุฐูุฉ:**
*(ูุฐุง ุงูุฃูุฑ ุถุฑูุฑู ูุชุญููู ูููุงุช `peer` ู `orderer` ุงูุชู ูุง ูุชู ุชุฎุฒูููุง ูู GitHub)*

```bash
curl -sSL https://bit.ly/2ysbOFE | bash -s -- 2.5.9 1.5.7
```

**2. ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุดุจูุฉ ุงูุงุฎุชุจุงุฑ:**

```bash
cd test-network
```

**3. ุชุดุบูู ุงูุดุจูุฉ ูุฅูุดุงุก ุงูููุงุฉ:**

```bash
./network.sh up createChannel
```

**4. ูุดุฑ ุงูุนูุฏ ุงูุฐูู (Go):**

```bash
./network.sh deployCC -ccn basic -ccp ../asset-transfer-basic/chaincode-go -ccl go
```

---

## ๐ป ุงูุฎูุงุฑ 2: ุงูุชุดุบูู ุนูู ุงูุฌูุงุฒ ุงููุญูู (Local Machine)

ุฅุฐุง ููุช ุชูุถู ุชุดุบูู ุงููุดุฑูุน ุนูู ุฌูุงุฒู ุงูุฎุงุตุ ุงุชุจุน ุงูุชุนูููุงุช ุงูุชุงููุฉ ุจุฏูุฉ.

### ๐ ุงููุชุทูุจุงุช ุงููุณุจูุฉ (Prerequisites)

ุชุฃูุฏ ูู ุชุซุจูุช ุงูุจุฑุงูุฌ ุงูุชุงููุฉ:

*   **ูุธุงู ุงูุชุดุบูู:** Ubuntu Linux (ุฃู Windows ูุน ุชูุนูู **WSL2**).
*   **Git:** ุฃุญุฏุซ ุฅุตุฏุงุฑ.
*   **cURL:** ุฃุญุฏุซ ุฅุตุฏุงุฑ.
*   **Docker & Docker Compose:** ุถุฑูุฑู ูุชุดุบูู ุงูุญุงููุงุช.
*   **Go (Golang):** ุงูุฅุตุฏุงุฑ 1.20 ุฃู ุฃุญุฏุซ.

### ๐๏ธ ุฎุทูุงุช ุงูุชุซุจูุช

**1. ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน (Clone):**

```bash
git clone https://github.com/MoainAlabbasi/fabric-graduation-project.git
cd fabric-graduation-project
```

**2. ุชุญููู ุงููููุงุช ุงูุชูููุฐูุฉ (Binaries):**

```bash
curl -sSL https://bit.ly/2ysbOFE | bash -s -- 2.5.9 1.5.7
```

**3. ุชุดุบูู ุงูุดุจูุฉ:**

```bash
cd test-network
./network.sh down   # ูุชูุธูู ุฃู ุฅุนุฏุงุฏุงุช ุณุงุจูุฉ
./network.sh up createChannel
```

**4. ูุดุฑ ุงูุนูุฏ ุงูุฐูู:**

```bash
./network.sh deployCC -ccn basic -ccp ../asset-transfer-basic/chaincode-go -ccl go
```

---

## โ ุงุฎุชุจุงุฑ ุงูุดุจูุฉ ูุงูุชูุงุนู ูุนูุง (Testing)

ุจุนุฏ ุงูุชูุงู ุงูุชุซุจูุชุ ููููู ุงูุชูุงุนู ูุน ุงูุณุฌู (Ledger) ูุงูุชุงูู:

**1. ุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ (ููุนูู ุจุตูุงุญูุฉ ูุณุคูู Org1):**

```bash
export PATH=${PWD}/../bin:$PATH
export FABRIC_CFG_PATH=$PWD/../config/
export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
export CORE_PEER_ADDRESS=localhost:7051
```

**2. ุฅูุดุงุก ุฃุตูู ุฃูููุฉ (Init Ledger):**

```bash
peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n basic --peerAddresses localhost:7051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt" --peerAddresses localhost:9051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt" -c '{"function":"InitLedger","Args":[]}'
```

**3. ุงูุงุณุชุนูุงู ุนู ุฌููุน ุงูุฃุตูู (Query All Assets):**

```bash
peer chaincode query -C mychannel -n basic -c '{"function":"GetAllAssets","Args":[]}'
```

---

## ๐ ุงูุชุฑุฎูุต (License)

ูุชู ุชูููุฑ ูููุงุช ููุฏ ูุตุฏุฑ ูุดุฑูุน Hyperledger ุจููุฌุจ ุชุฑุฎูุต Apacheุ ุงูุฅุตุฏุงุฑ 2.0 (Apache-2.0)ุ ุงูููุฌูุฏ ูู ููู `LICENSE`.
